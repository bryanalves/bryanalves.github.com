<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Bryan's Blah Blog</title><link>https://bryanalves.github.io/</link><description>Bryan's Blah Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 01 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://bryanalves.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>Beancount Plugins and Options</title><link>https://bryanalves.github.io/posts/beancount-plugins-and-options/</link><pubDate>Thu, 01 Sep 2022 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/beancount-plugins-and-options/</guid><description>&lt;p>Options allow you to change the behavior of your beancount ledger. We&amp;rsquo;ve already seen one to specify the main operating currency. The list of the rest is codified &lt;a href="https://github.com/beancount/beancount/blob/2.3.5/beancount/parser/options.py">here&lt;/a>. My recommendations are as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>option &amp;#34;title&amp;#34; &amp;#34;Main Ledger&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option &amp;#34;documents&amp;#34; &amp;#34;data/documents&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option &amp;#34;operating_currency&amp;#34; &amp;#34;USD&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option &amp;#34;infer_tolerance_from_cost&amp;#34; &amp;#34;TRUE&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option &amp;#34;inferred_tolerance_multiplier&amp;#34; &amp;#34;1.1&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option &amp;#34;insert_pythonpath&amp;#34; &amp;#34;True&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>See the above link for explanations about what these are used for.&lt;/p>
&lt;p>Plugins run during the processing and parsing steps, and can be used to do things like modify entries in real time, add new entries, or add additional assertions or constraints to do error reporting on. The list of plugins included with beancount is &lt;a href="https://github.com/beancount/beancount/tree/2.3.5/beancount/plugins">here&lt;/a>. I recommend the following plugins:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.check_average_cost&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.check_commodity&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.check_closing&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.coherent_cost&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.noduplicates&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.onecommodity&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.sellgains&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;beancount.plugins.tag_pending&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>These help ensure that accounts are used for a single commodity, protect against accidental duplicates, help ensure that capital gains are reported correctly, and will help protect erroneous price conversions that aren&amp;rsquo;t expected.&lt;/p>
&lt;h1 id="adding-your-own-plugins" >Adding your own plugins
&lt;span>
&lt;a href="#adding-your-own-plugins">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>By using the &lt;code>insert_pythonpath&lt;/code> option, you can add arbitrary python code to be executable. Create a &lt;code>lib/plugins&lt;/code> directory from the same relative path that your &lt;code>ledger.beancount&lt;/code> file is, and you can write your own plugins (or copy from other sources). Then you can specify their use like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>plugin &amp;#34;lib.plugins.amortize_over&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plugin &amp;#34;lib.plugins.todo_as_error&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="configuring-fava" >Configuring fava
&lt;span>
&lt;a href="#configuring-fava">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Fava options are configured using the &lt;code>custom &amp;quot;fava-option&amp;quot;&lt;/code> directive. A list of fava options can be found &lt;a href="https://github.com/beancount/fava/blob/main/src/fava/help/options.md">here&lt;/a>. Here&amp;rsquo;s a sample config that will enable use of the import UI (more about this later), along with some other sensible defaults:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-option&amp;#34; &amp;#34;show-accounts-with-zero-transactions&amp;#34; &amp;#34;false&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-option&amp;#34; &amp;#34;show-accounts-with-zero-balance&amp;#34; &amp;#34;false&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-option&amp;#34; &amp;#34;import-config&amp;#34; &amp;#34;./import.config&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-option&amp;#34; &amp;#34;import-dirs&amp;#34; &amp;#34;./import-input/&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-option&amp;#34; &amp;#34;insert-entry&amp;#34; &amp;#34;incoming.beancount&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-option&amp;#34; &amp;#34;invert-income-liabilities-equity&amp;#34; &amp;#34;true&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-option&amp;#34; &amp;#34;default-page&amp;#34; &amp;#34;/income_statement/?time=year&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="fava-extensions" >Fava extensions
&lt;span>
&lt;a href="#fava-extensions">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Fava extensions add entries to the left hand navigation to provide different views into data. Some examples of things available are some budgets, some data visualizations, and some ways to report on capital gains. If you want to write your own, you can add them to &lt;code>lib/fava_ext&lt;/code> and then configure them like so:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-extension&amp;#34; &amp;#34;lib.fava_ext.short_term_gains&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2010-01-01 custom &amp;#34;fava-extension&amp;#34; &amp;#34;lib.fava_ext.long_term_gains&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Adding Price Information to Beancount</title><link>https://bryanalves.github.io/posts/adding-price-information-to-beancount/</link><pubDate>Mon, 29 Aug 2022 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/adding-price-information-to-beancount/</guid><description>&lt;p>Once you&amp;rsquo;ve recorded some transactions with stocks, the price of those stocks changes over time. Ideally, running &lt;code>bean-report ledger.beancount networth&lt;/code> would take into account the current prices of your assets, as opposed to being limited to the price of the assets as entered on the transaction date. The &lt;code>price&lt;/code> directive allows for this. It&amp;rsquo;s simple to use:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-29 price VTSAX 98 USD
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>That&amp;rsquo;s it. Add price directives whenever you want. But it&amp;rsquo;s even easier than that! Most directives in beancount support meta attributes. An important one is the &lt;code>price&lt;/code> attribute for a commodity, which will allow you to use a tool called &lt;code>bean-price&lt;/code> (included with beancount), to look up prices automatically. It supports several providers, but a common choice is Yahoo:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 commodity VTSAX
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> price: &amp;#34;USD:yahoo/VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now you can run &lt;code>bean-price&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>% bean-price ledger.beancount
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-29 price VTSAX 98 USD
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can redirect this output directly to a beancount file:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>% bean-price ledger.beancount &amp;gt;&amp;gt; ledger.beancount
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The tool will (be default) take into account existing price entries, and be idempotent. So running hte above command twice will not add two price directives to your file.&lt;/p></description></item><item><title>Adding Commodities and Investments</title><link>https://bryanalves.github.io/posts/adding-commodities-and-investments/</link><pubDate>Sun, 28 Aug 2022 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/adding-commodities-and-investments/</guid><description>&lt;p>So far we&amp;rsquo;ve worked only with USD as a currency. Beancount also supports commodities held at cost. This means that holding onto something that was acquired on a specific date and with a cost basis. The most typical example of this is a unit of stock or a mutual fund. Here is an example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 commodity VTSAX
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:Brokerage
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-27 txn &amp;#34;Acquire some VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:Brokerage 10 VTSAX {100 USD}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-28 txn &amp;#34;Acquire some more VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:Brokerage 10 VTSAX {100 USD}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>After this, &lt;code>Assets:Brokerage&lt;/code> has 20 total units of VTSAX, but it&amp;rsquo;s recorded as two separate holdings:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span># bean-report ledger.beancount holdings
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Account Units Currency Cost Currency Average Cost Price Book Value Market Value
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-------------------------- -------- -------- ------------- ------------ ----- ---------- ------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Assets:Brokerage 10.00 VTSAX USD 100.00 1,000.00
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Assets:Brokerage 10.00 VTSAX USD 100.00 1,000.00
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This is because when you sell them, you need to keep track of which you sell, so you can recognize the correct capital gains. Beancount uses 3 pieces of information for this:&lt;/p>
&lt;ul>
&lt;li>The acquisition cost (must be specified)&lt;/li>
&lt;li>The acquisition date (defaults to the date of the transaction)&lt;/li>
&lt;li>An optional label or id&lt;/li>
&lt;/ul>
&lt;p>When selling, you must specify enough information to uniquely identify the lots you are intending to sell. If all of your lots are acquired at different prices, you can specify just the price. If all of your lots are acquired on different dates, then you can just specify the date. I recommend explicitly specifying both the date and price when selling, as it will help to reduce errors (and makes the file easier to read):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-29 txn &amp;#34;Sell VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:Brokerage -10 VTSAX {100 USD, 2022-08-27}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that this assumes that you sell the unit for exactly what you paid for it. This is typically not the case! When you sell for a different price, you recognize either a capital gain or a loss. This is typically recorded using an &lt;code>Income&lt;/code> account:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Income:Gains:Short-Term:Brokerage
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Income:Gains:Long-Term:Brokerage
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-29 txn &amp;#34;Sell VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:Brokerage -10 VTSAX {100 USD, 2022-08-27}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 110 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Income:Gains:Short-Term:Brokerage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will put 10 USD into an account to track your short-term capital gains. This is a US-centric interpretation of asset selling; consult your local laws to make sure you get the details right for recording. An additional step is to specify the selling cost, which is usually only used for documentation. A plugin (discussed later) can help you verify things by using this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-29 txn &amp;#34;Sell VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:Brokerage -10 VTSAX {100 USD, 2022-08-27} @ 101 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 110 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Income:Gains:Short-Term:Brokerage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>or with @@ to track the full cost&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-29 txn &amp;#34;Sell VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:Brokerage -10 VTSAX {100 USD, 2022-08-27} @@ 110 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 110 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Income:Gains:Short-Term:Brokerage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By default, all accounts are treated as &lt;code>STRICT&lt;/code>, meaning that bean-check will tell you if you get any of these details wrong. This is analogous to selling by lot id, or spec id by most brokers. There are other options:&lt;/p>
&lt;ul>
&lt;li>&lt;code>NONE&lt;/code> which lets you do whatever you want, including things like negative assets. You should ideally never need to use this.&lt;/li>
&lt;li>&lt;code>FIFO&lt;/code>, which sells oldest things first&lt;/li>
&lt;li>&lt;code>LIFO&lt;/code>, which sells newest things first&lt;/li>
&lt;/ul>
&lt;p>When using FIFO and LIFO, you don&amp;rsquo;t need to specify price and date when selling:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-29 txn &amp;#34;Sell VTSAX&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:Brokerage -10 VTSAX {} @ 101 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 110 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Income:Gains:Short-Term:Brokerage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>With &lt;code>FIFO&lt;/code>, it will sell the 10 units acquired on 2022-08-27 in our example. With &lt;code>LIFO&lt;/code>, it will sell the 2022-08-28 units. LIFO/FIFO are especially useful for retirement accounts, where you don&amp;rsquo;t really want to track the gains, have no special tax treatment, and you ultimately just care about the total units held (with an approximately correct cost basis for reporting).&lt;/p>
&lt;p>You specify the booking method when opening the account:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:Brokerage &amp;#34;LIFO&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Finally, you will probably find it helpful to create sub-accounts for each commodity you plan on using. This will help to reduce errors, makes interop with some other tools better, and will make some reports easier to read:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:Brokerage:VTSAX
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 Income:Gains:Short-Term:Brokerage:VTSAX
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The income account is optional, but I tend to take the philosophy of more accounts is better than fewer.&lt;/p>
&lt;p>Some summary guidelines:&lt;/p>
&lt;ul>
&lt;li>Create an account per commodity&lt;/li>
&lt;li>When acquiring units, always specify the acquisition cost.&lt;/li>
&lt;li>When selling units, always specify the acquisition cost and the acquisition date. Also, unless the unit is being directly transferred (rare!), always specify the selling cost, either per unit with &lt;code>@&lt;/code> or full cost with &lt;code>@@&lt;/code>&lt;/li>
&lt;li>Create income accounts to track gains according to your tax laws (usually short-term and long-term). Optionally make these granular to each unit type, instead of institution.&lt;/li>
&lt;li>Structure income accounts as `Income:{income-type}:{income-subtype-optional}:{institution}:{currency-or-unit}. It is MUCH more common to want a report such as &amp;ldquo;all short-term capital gains&amp;rdquo; than &amp;ldquo;all gains of any type for institution x&amp;rdquo;. Both are possible, but the recommended structure makes the first report essentially free.&lt;/li>
&lt;/ul></description></item><item><title>Your First Beancount Ledger</title><link>https://bryanalves.github.io/posts/your-first-beancount-ledger/</link><pubDate>Sat, 27 Aug 2022 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/your-first-beancount-ledger/</guid><description>&lt;p>Getting started with beancount is easy &amp;ndash; it&amp;rsquo;s a plaintext file! Create a blank &lt;code>ledger.beancount&lt;/code> file if you haven&amp;rsquo;t already, and run &lt;code>bean-check&lt;/code> on it:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>bean-check ledger.beancount
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>An empty file is valid. You can and should run &lt;code>bean-check&lt;/code> regularly to ensure that what you are doing stays accurate as you go, just like red-green refactoring.&lt;/p>
&lt;h1 id="your-first-account" >Your first account
&lt;span>
&lt;a href="#your-first-account">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>You create accounts using the &lt;code>open&lt;/code> directive. Let&amp;rsquo;s assume you have a checking account. The syntax will look something like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The format of the open directive is &lt;code>{date} open {account}&lt;/code>. Accounts are colon-separated. The first component must be one of the &lt;a href="https://bryanalves.github.io/posts/a-brief-overview-of-account-types/">5 account types&lt;/a> (&lt;code>Assets&lt;/code>, &lt;code>Liabilities&lt;/code>, &lt;code>Equity&lt;/code>, &lt;code>Expenses&lt;/code>, &lt;code>Income&lt;/code>). Everything after the first component can be structured however you want. Accounts will tend to have a hierarchical structure, and the result is called your chart of accounts. For assets and liabilities, I recommend grouping things by institution (like bank-name), and then account. If you are tracking accounts for multiple people (such as spouse), having a higher-level grouping by person can make things easier, such as:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:Me:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:Me:CapitalTwo:Savings
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:Spouse:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:Joint:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The structure is entirely up to you. The date of the open directive just needs to be a date before the first recorded transaction on the account.&lt;/p>
&lt;p>You&amp;rsquo;ll also need an account to source opening balances, so create that now:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Equity:Opening-Balances
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="your-first-transaction" >Your first transaction
&lt;span>
&lt;a href="#your-first-transaction">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Now we can fund the account:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-01 txn &amp;#34;Opening Balance&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 4000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Transactions take the form of &lt;code>{date} txn &amp;quot;{narration}&amp;quot; &amp;quot;{optional payee}&amp;quot;&lt;/code>, followed by a series of two or more postings. Postings can take a couple of forms, the most common of which is &lt;code>{account} {amount-change} {currency}&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>Postings are indented.&lt;/li>
&lt;li>&lt;em>Postings must sum to zero&lt;/em>. &lt;code>bean-check&lt;/code> will fail and yell if this invariant is violated.&lt;/li>
&lt;li>Currency is a series of at least 2 capital letters. Preceding dollar signs are not used in beancount.&lt;/li>
&lt;/ul>
&lt;p>You&amp;rsquo;ll note that the &lt;code>Equity:Opening-Balances&lt;/code> posting has no amount to change. Beancount will automatically infer up to one posting for you in order to make your life easier. This is equivalent to the following:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-01 txn &amp;#34;Opening Balance&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 4000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances -4000 USD
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>There can be more than 2 postings:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-01 txn &amp;#34;Opening Balance&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 4000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Savings 10000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances -14000 USD
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Remember that at most one posting can have it&amp;rsquo;s value inferred:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-01 txn &amp;#34;Opening Balance&amp;#34; ; does not work
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 4000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Savings 10000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(Note: The &lt;code>; does not work&lt;/code> above is valid syntax for a comment)&lt;/p>
&lt;p>Ordering of postings does not matter:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-08-01 txn &amp;#34;Opening Balance&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances -14000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 4000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Savings 10000 USD
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="your-first-expense" >Your first expense
&lt;span>
&lt;a href="#your-first-expense">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Let&amp;rsquo;s record an expense:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Expenses:Groceries
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-02 txn &amp;#34;Buy Groceries&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Expenses:Groceries 40 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Remember, transactions must sum to zero, so you increase your expenses to decrease your account balance. This is equivalent to the following:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>2022-01-01 open Expenses:Groceries
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-02 txn &amp;#34;Buy Groceries&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking -40 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Expenses:Groceries
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Record whichever way makes more sense to you, or manually specify the amounts in both postings. I tend to skip one of the postings for simple transactions like this. Importers, which we&amp;rsquo;ll talk about in a subsequent post, will simplify a lot of this as well.&lt;/p>
&lt;p>Additionally, ordering of directives does not matter in beancount, with the exception of some intraday transactions. This will almost never come up or matter, but it does generally make your life easier.&lt;/p>
&lt;h1 id="a-brief-view-into-reports" >A brief view into reports
&lt;span>
&lt;a href="#a-brief-view-into-reports">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Before we do some reporting, we need to tell beancount which currency is our operating currency. US dollars (or whatever you use) are not special in beancount. &lt;code>USD&lt;/code> is just a string of 3 characters. You configure beancount using &lt;code>option&lt;/code> directives. You can tell beancount that you want reports in USD by specifying:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>option &amp;#34;operating_currency&amp;#34; &amp;#34;USD&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will make more sense if and when you start tracking other assets, such as stocks, mutual funds, or if you travel and actually work with multiple currencies&lt;/p>
&lt;p>With the final form:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>option &amp;#34;operating_currency&amp;#34; &amp;#34;USD&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Assets:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Expenses:Groceries
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-01-01 open Equity:Opening-Balances
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-01 txn &amp;#34;Opening Balance&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking 4000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Equity:Opening-Balances -4000 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-08-02 txn &amp;#34;Buy Groceries&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Expenses:Groceries 40 USD
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assets:CapitalTwo:Checking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can run &lt;code>bean-check ledger.beancount&lt;/code> and receive no feedback, telling us out file is valid. We can get our net worth using&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>bean-report ledger.beancount networth
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will tell us the current value of all of our assets, minus any liabilities that we have.&lt;/p>
&lt;p>You can see the current balance of all of your accounts by doing:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>bean-report ledger.beancount balances
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also start to visualize the data with fava:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>fava ledger.beancount
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>And then visit &lt;a href="http://localhost:5000">http://localhost:5000&lt;/a> in your browser. Fava won&amp;rsquo;t make sense at first, but paradoxically the more data you add, the more useful it will become.&lt;/p></description></item><item><title>A Brief Overview of Account Types</title><link>https://bryanalves.github.io/posts/a-brief-overview-of-account-types/</link><pubDate>Tue, 23 Aug 2022 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/a-brief-overview-of-account-types/</guid><description>&lt;p>In double-entry accounting, there are 5 account types. Here we will summarize them from the scope of personal finance, and provide some sample use cases and cash flows so you can help identify when to create which type of account.&lt;/p>
&lt;h1 id="what-is-an-account" >What is an account?
&lt;span>
&lt;a href="#what-is-an-account">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Most people will properly identify accounts as things like checking accounts at banks, or your credit card, or maybe a mortgage or loan. Things that typically have identifying features such as an account number, are associated with an institution, etc. While these &lt;em>ARE&lt;/em> accounts, the actual definition of an account is much more broad:&lt;/p>
&lt;blockquote>
&lt;p>An account is a named list of transactions&lt;/p>
&lt;/blockquote>
&lt;p>It doesn&amp;rsquo;t need to be owned by an institution. It doesn&amp;rsquo;t have to have an account number. It doesn&amp;rsquo;t even have to have a known representation outside of your accounting system! Getting over this hurdle of understanding will make understanding &amp;ldquo;accounts&amp;rdquo; in double-entry personal finance &lt;em>MUCH&lt;/em> easier. It comes with a bit of practice, and it eventually clicks.&lt;/p>
&lt;p>A sample use case to define this is savings sub-accounts. Some people like to create things like the &amp;ldquo;save for a holiday fund&amp;rdquo;, or the &amp;ldquo;new car fund&amp;rdquo;, and many financial institutions support this functionality in their interface. For those that don&amp;rsquo;t, however, you can create these accounts manually on your side and track it yourself. There&amp;rsquo;s nothing stopping you from creating as many sub-accounts as you want manually and &amp;ldquo;transferring&amp;rdquo; money between them within your own ledger. Beancount will even helpfully report the balance of the main account, even if there aren&amp;rsquo;t any actual transactions there, by rolling up the sub-accounts so you can still see the whole picture.&lt;/p>
&lt;p>In my opinion, as a general rule, it&amp;rsquo;s better to create more accounts than fewer.&lt;/p>
&lt;h1 id="debits-and-credits-need-not-apply" >Debits and credits need not apply
&lt;span>
&lt;a href="#debits-and-credits-need-not-apply">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Traditional double entry accounting used the terms debit and credit to reflect changes to accounts, and different types of accounts either increased or decreased based on debits or credits. It&amp;rsquo;s easy to find the history of this, but it isn&amp;rsquo;t particularly relevant for most computer-generated double entry systems. Beancount (and others) use the simpler &amp;ldquo;increase&amp;rdquo; and &amp;ldquo;decrease&amp;rdquo; verbs, as well as allowing negative numbers.&lt;/p>
&lt;h1 id="account-type-1-assets" >Account type 1: Assets
&lt;span>
&lt;a href="#account-type-1-assets">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Assets are what most people first think of when they think of accounts. Assets are anything you own or have control over that has value. The most obvious examples are your checking and savings accounts. Your house, if you own one, is also an asset, as well as other physical property that has cash value (cars, collectibles, art). Also your investment accounts, whether they are normal brokerage accounts or retirement accounts. If it has a positive value, and you regularly receive a statement for it, it&amp;rsquo;s almost certainly an asset account. Obviously your cash in your wallet, or cash that you keep on hand in the house or in your car for emergencies can also be asset accounts.&lt;/p>
&lt;p>Asset accounts don&amp;rsquo;t need to have value denominated in your country&amp;rsquo;s native currency. You could track work vacation hours for example.&lt;/p>
&lt;p>A final uncommon thing that you may see as an asset account is an IOU. In the business world this would be modeled as accounts receivable. If you have a friend who owes you some money, you may choose to record that as an account to keep track of how much they owe you. This is another great example of an account that doesn&amp;rsquo;t have a number, and doesn&amp;rsquo;t actually have a representation outside of your ledger.&lt;/p>
&lt;ul>
&lt;li>Asset accounts are almost always positive.&lt;/li>
&lt;li>They can increase or decrease due to transfers from other asset accounts.&lt;/li>
&lt;li>The can increase from income (salary, dividends, capital gains, etc).&lt;/li>
&lt;li>They can decrease from funding an expense.&lt;/li>
&lt;li>They can decrease from paying off liabilities.&lt;/li>
&lt;/ul>
&lt;h1 id="account-type-2-liabilities" >Account type 2: Liabilities
&lt;span>
&lt;a href="#account-type-2-liabilities">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Liabilities are often the second most common thing that people will think of when thinking of accounts. These are things your own or have control over that you owe money to. The most common examples are credit cards and loans. Your mortgage, if you have one, is also a liability.&lt;/p>
&lt;p>The IOU asset account can also be a liability account if you owe a friend money. This is analogous to accounts payable from the business world.&lt;/p>
&lt;ul>
&lt;li>Liabiliity accounts are almost always negative (or zero).&lt;/li>
&lt;li>They can decrease from funding an expense.&lt;/li>
&lt;li>They can increase from a transfer from an asset account (representing a payment towards the liability)&lt;/li>
&lt;li>They can increase from a transfer representing cash back rewards or similar. This is usually modeled as an income account.&lt;/li>
&lt;li>They can increase or decrease due to transfers from other liability accounts (representing a balance transfer).&lt;/li>
&lt;/ul>
&lt;h1 id="account-type-3-expenses" >Account type 3: Expenses
&lt;span>
&lt;a href="#account-type-3-expenses">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Expense accounts are when double-entry accounting starts to really differentiate itself from other methods. Expense accounts are analogous to &amp;ldquo;spending categories&amp;rdquo; in Mint or other tools. In double entry accounting however they are &amp;ldquo;just another account.&amp;rdquo; This homogeneity has a lot of benefits. When getting started though, just thinking of them as spending categories will get you a long way down the path. You can create as many expense accounts as you want; they are all internal to your ledger system. The only thing to keep in mind is that this is an account, not a tag, meaning that you can&amp;rsquo;t attribute multiple expense accounts to a single transaction (unless you split the transaction).&lt;/p>
&lt;p>Some examples of expense accounts include:&lt;/p>
&lt;ul>
&lt;li>Groceries&lt;/li>
&lt;li>Restaurants&lt;/li>
&lt;li>Auto repairs&lt;/li>
&lt;li>Investment fees&lt;/li>
&lt;li>Insurance&lt;/li>
&lt;li>Taxes&lt;/li>
&lt;/ul>
&lt;p>Any set of expense accounts that makes sense to you and will let you track what you want to track will work. One of the benefits of plain text accounting is that doing things like renaming accounts, or being more (or less) fine-grained in the future is pretty easy to do. I also always keep a &amp;ldquo;Miscellaneous&amp;rdquo; expense account because categorizing everything perfectly isn&amp;rsquo;t possible, or if it is possible is way too much work.&lt;/p>
&lt;ul>
&lt;li>Expense accounts are almost always positive (this is counterintuitive!)&lt;/li>
&lt;li>Expense accounts are increased by transfers from assets or liabilities to represent purchases.&lt;/li>
&lt;li>Expense accounts are decreased product returns.&lt;/li>
&lt;/ul>
&lt;h1 id="account-type-4-income-sometimes-called-revenue" >Account type 4: Income (sometimes called Revenue)
&lt;span>
&lt;a href="#account-type-4-income-sometimes-called-revenue">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Income accounts are one of the most confusing account types when first coming across double entry accounting. People generally think of income as &amp;ldquo;making money,&amp;rdquo; yet income accounts are almost always monotonically &lt;em>decreasing&lt;/em>, not increasing!&lt;/p>
&lt;p>The easiest way to reason about this is to think about income accounts as &amp;ldquo;somebody elses bank account.&amp;rdquo; When you receive income, somebody is transferring money from their account, to yours. Their account decreases, yours increases. This insight helped me really understand income accounts.&lt;/p>
&lt;p>The most obvious example of an income account is for your paycheck. There are 2 ways to record this, by net or by gross.&lt;/p>
&lt;p>By net is a simple transfer of net pay from the income account to the desired asset account. By gross involves transcribing all of the details of the paystub. The income account will decrease by the gross pay, and there will be legs of the transaction for taxes, insurance, retirement contributions, health insurance and other benefit deductions.&lt;/p>
&lt;blockquote>
&lt;p>A transaction involves 2 &lt;em>or more&lt;/em> accounts. Another huge difference between other systems!&lt;/p>
&lt;/blockquote>
&lt;p>By gross sounds complicated, but remember, most of your paychecks are very repetitive, and this is just plain text. Copy and paste!&lt;/p>
&lt;p>Other examples of income accounts include bank interest, credit card cash back rewards, investment dividends, investment capital gains, and gifts. It&amp;rsquo;s also usually handy to have a miscellaneous income account here because sometimes things don&amp;rsquo;t fit into neat buckets.&lt;/p>
&lt;h1 id="the-final-type-equity-sometimes-called-capital" >The final type: Equity (sometimes called Capital)
&lt;span>
&lt;a href="#the-final-type-equity-sometimes-called-capital">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Equity accounts are not very relevant for most personal finance setups. The most common use by far is the &amp;ldquo;opening balances&amp;rdquo; account, which is used to give accounts their starting balance. Because you typically start your double entry ledger sometime in the future after the account has been opened, the starting balance from where you start tracking each transaction needs to come from somewhere.&lt;/p>
&lt;p>Another use for equity accounts is for things that you don&amp;rsquo;t otherwise want to track. When you have capital gains in retirement accounts for example, those capital gains need to be recorded somewhere so that transactions balance. You &lt;em>could&lt;/em> create an income account for this, but I find it better to &amp;ldquo;hide&amp;rdquo; this detail in an equity account. The same can be done for retirement accounts that have expenses and fees as separate line items instead of just rolled up into the fund&amp;rsquo;s expense ratio. These &lt;em>could&lt;/em> be recorded into an expense account, but again I prefer to &amp;ldquo;hide&amp;rdquo; it.&lt;/p>
&lt;p>The last 2 things you might see equity accounts used for are conversions or rounding errors. Because of beancount&amp;rsquo;s robust currency and inventory system, you probably won&amp;rsquo;t find a need for a conversion account. A rounding errors account can be helpful if things just don&amp;rsquo;t line up (a statement records fractions of a cent by doesn&amp;rsquo;t tell you, for example). It can be a useful escape hatch. Be really careful relying on this though, as it&amp;rsquo;s more likely that you are doing something wrong if you have large rounding errors! At the time of writing, I have thousands of transactions across multiple years, and the sum of my rounding errors account is 1 cent.&lt;/p>
&lt;h1 id="this-seems-hard-isnt-there-something-simpler" >This seems hard, isn&amp;rsquo;t there something simpler?
&lt;span>
&lt;a href="#this-seems-hard-isnt-there-something-simpler">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>There are simpler things, yes. They are not double-entry accounting. While it may be possible to simplify some of this, you&amp;rsquo;ll find that you end up needing or using all of these concepts pretty shortly after getting started. Give it a little time and practice and it will make sense.&lt;/p>
&lt;p>The comments from &lt;a href="https://money.stackexchange.com/questions/47561/simplified-version-of-double-entry-bookkeeping-for-personal-and-business-finance">this stackexchange post&lt;/a> do a good job of explaining why simplifying this might not make sense. Trust the process a little bit!&lt;/p></description></item><item><title>Getting started with Beancount</title><link>https://bryanalves.github.io/posts/getting-started-with-beancount/</link><pubDate>Mon, 22 Aug 2022 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/getting-started-with-beancount/</guid><description>&lt;p>&lt;a href="https://github.com/beancount/beancount">Beancount&lt;/a> is &lt;a href="https://en.wikipedia.org/wiki/Double-entry_bookkeeping">double entry accounting&lt;/a> software that&amp;rsquo;s based on the &lt;a href="https://plaintextaccounting.org/">plain text accounting&lt;/a> principle. Being based on plain text allows a lot of programmatic flexibility, as well as portability.&lt;/p>
&lt;p>I decided to track all of my personal finances using the tool, and want to provide a guide/cookbook to my methods. Documentation for the tool can be a bit scattered and incomplete, so I hope this cookbook-style guide helps to fill in some gaps.&lt;/p>
&lt;h1 id="journey-to-ptabeancount" >Journey to PTA/Beancount
&lt;span>
&lt;a href="#journey-to-ptabeancount">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Before beancount, tools used varied from some custom spreadsheets, &lt;a href="www.mint.com">Mint&lt;/a>, and &lt;a href="www.gnucash.org">GnuCash&lt;/a>. All of these tools have their uses, and depending on the level of effort you want to expend on your finances can be suitable.&lt;/p>
&lt;p>I moved away from Mint for a couple of reasons. The first is the generic privacy/trust concerns. Also, at the time, a large portion of the reporting was run by Flash, which was being phased out in browsers and so the site lost a lot of utility. It also doesn&amp;rsquo;t actually let you dig that deep into reporting, and errors in categorizations were a pain to deal with. Finally, syncing would randomly stop for extended periods of time, or weird duplicating things would happen. It is a good tool for getting an overall financial picture, but not a detailed one.&lt;/p>
&lt;p>Custom spreadsheets can work fairly well for small scale tracking of things. One of the big downsides here is that it is manual entry; things are more error prone. If you want to track balances of accounts over time and get a good manual overall picture, a spreadsheet can be quite handy. I still have a spreadsheet for some tracking/estimating a few things that I haven&amp;rsquo;t programmed in Beancount yet.&lt;/p>
&lt;p>The next big step is into true double-entry accounting. If you have never done double-entry accounting, it conceptually might scare you, and you might think it&amp;rsquo;s overkill for personal finances. That may be; your situation may vary. I found that after some upfront effort to understand things, and getting a system in place, things are actually much easier than with other tools.&lt;/p>
&lt;p>GnuCash was my first foray into this. It has pretty good support for importing statements/documents, a reasonable user interface (which can make sharing the results/reporting of your finances easier). I found it to be significantly lacking in terms of tracking values of investments, including doing things such as rounding values that shouldn&amp;rsquo;t be rounded. Ultimately I didn&amp;rsquo;t have the control that I wanted, and the extensibility seemed lacking.&lt;/p>
&lt;p>Which brings us to plain text accounting. It&amp;rsquo;s just text! If you can program, you can parse this data and do very interesting arbitrary things. There are 2 primary directions you can go here: ledger and it&amp;rsquo;s derivatives (like hledger), and beancount. I picked beancount because of it&amp;rsquo;s stated goal of doing a more thorough and strict job of tracking investment values, and it being written in python and having a better (in my opinion) extensibility story.&lt;/p>
&lt;p>A lot of concepts are shared between ledger and beancount; there is even a script that can take an accounting file written in ledger and make it compatible with beancount. This guide will talk about some generic double entry concepts, but many of the concepts will be beancount specific.&lt;/p>
&lt;p>The final reason that I preferred beancount is &lt;a href="https://github.com/beancount/fava">Fava&lt;/a>, the web user interface. At first glance it can be quite complicated and overwhelming, but once you understand the primary accounting concepts, it is a really powerful tool for digging around.&lt;/p>
&lt;h1 id="installing-beancount" >Installing Beancount
&lt;span>
&lt;a href="#installing-beancount">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Beancount comes as a python package; your operating system might already have it packaged up, ready to install. I prefer to run it from a python virtual environment though, to ensure I have the latest versions of things. There&amp;rsquo;s a few tools that you&amp;rsquo;ll likely benefit from that you&amp;rsquo;ll also want to install, such as fava, some importers (more about these later), and maybe jinja or pandas if you end up writing custom reports. I like &lt;a href="https://github.com/jazzband/pip-tools">pip-tools&lt;/a> for this purpose. If you have a different preferred flow for working with python packages, go for it.&lt;/p>
&lt;p>With pip-tools, the following requirements.in file will get you something pretty usable:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>beancount &amp;gt;=2.3.5, &amp;lt;3.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>beancount-cryptoassets @ https://github.com/xuhcc/beancount-cryptoassets/archive/master.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>beancount-import &amp;gt;=1.3.4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>beancount-portfolio-allocation &amp;gt;=0.3.0, &amp;lt;1.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>beancount-reds-importers &amp;gt;=0.5.1, &amp;lt;1.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Jinja2 &amp;gt;=3.0.3, &amp;lt;4.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pandas &amp;gt;=1.3.5, &amp;lt;2.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pyright &amp;gt;=0.0.13, &amp;lt;1.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>smart-importer &amp;gt;=0.3, &amp;lt;1.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>click &amp;gt;=8.1.3, &amp;lt;9.0.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fava &amp;gt;=1.22.2, &amp;lt;2.0.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Create a directory to store your financial data and code, save the above as &lt;code>requirements.in&lt;/code>, then:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>python -m venv .venv
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>source .venv/bin/activate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pip install pip-tools
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pip-compile
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pip-install -r requirements.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>touch ledger.beancount
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>bean-check -v ledger.beancount
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deactivate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now, whenever you want to work with beancount, &lt;code>cd&lt;/code> into your financial directory, &lt;code>source .venv/bin/activate&lt;/code> and your shell prompt will change to indicate you are in a python virtual environment. When you are done, run &lt;code>deactivate&lt;/code>. If you want to check this into version control, you&amp;rsquo;ll want to check in both &lt;code>requirements.in&lt;/code> and &lt;code>requirements.txt&lt;/code>, and you&amp;rsquo;ll want to exclude &lt;code>.venv&lt;/code>&lt;/p>
&lt;h1 id="resources" >Resources
&lt;span>
&lt;a href="#resources">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;ul>
&lt;li>&lt;a href="https://plaintextaccounting.org/">https://plaintextaccounting.org/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.reddit.com/r/plaintextaccounting/">https://www.reddit.com/r/plaintextaccounting/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/beancount/beancount">https://github.com/beancount/beancount&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/beancount/fava">https://github.com/beancount/fava&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Using Chef Zero with Berkshelf</title><link>https://bryanalves.github.io/posts/chef-zero-with-berkshelf/</link><pubDate>Sun, 14 Aug 2016 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/chef-zero-with-berkshelf/</guid><description>&lt;p>If you have a single machine that you want to control with Chef (for example, a single home server, or a server that you want to bootstrap to run chef-server for other things), Chef Zero can be a good tool to use. Chef Zero can be used by using the &lt;code>chef-client -z&lt;/code> command. This will treat your local working directory like a Chef server, so you&amp;rsquo;ll want the following directory structure:&lt;/p>
&lt;pre>&lt;code>cookbooks/
data_bags/
nodes/
roles/
environments/
&lt;/code>&lt;/pre>
&lt;p>Things are optional, but you&amp;rsquo;ll at least want &lt;code>cookbooks&lt;/code>.&lt;/p>
&lt;p>Actually, you don&amp;rsquo;t want cookbooks either.&lt;/p>
&lt;p>What?&lt;/p>
&lt;p>Well, when you are working with a real chef server, you don&amp;rsquo;t manually upload cookbooks to it, so why would you do the same with a virtual Chef server? Use Berkshelf like you normally do! Add &lt;code>cookbooks/&lt;/code> do your .gitignore file, create a separate directory to store your environment cookbook (I use &lt;code>site-cookbooks/&lt;/code>), and make a &lt;code>Berksfile&lt;/code> in the root directory that references it:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="display:flex;">&lt;span>source &lt;span style="color:#e6db74">&amp;#39;https://supermarket.chef.io&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cookbook &lt;span style="color:#e6db74">&amp;#39;server-env&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">path&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;./site-cookbooks/server-env&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now your directory structure will look like this:&lt;/p>
&lt;pre>&lt;code>site-cookbooks/
server-env/
attributes/
recipes/
..
data_bags/
Berksfile
.gitignore
&lt;/code>&lt;/pre>
&lt;p>Add data_bags, environments, roles, as necessary. When you are ready, run &lt;code>berks vendor site-cookbooks&lt;/code> and the result will be a &lt;code>cookbooks/&lt;/code> directory ready for use by chef-zero. Run &lt;code>chef-client -z&lt;/code> and you are ready to converge your server complete with the full power of the chef supermarket in an easy to maintain way. Be sure to check in your &lt;code>Berksfile.lock&lt;/code> so that this is fully reproducible.&lt;/p>
&lt;p>The only real downside to this is that while Berksfile sort of works with multiple cookbooks, it can sometimes be awkward to resolve the dependency graph. For example, if you use this as a baseline for multiple servers, and have &lt;code>server1-env&lt;/code> and &lt;code>server2-env&lt;/code>, those cookbooks must have exact version matches on overlapping dependencies from the supermarket. This technique is only suitable for a single environment cookbook.&lt;/p></description></item><item><title>Easy ways to add files to LXC containers</title><link>https://bryanalves.github.io/posts/easy-ways-to-add-files-to-lxc-containers/</link><pubDate>Thu, 09 Jul 2015 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/easy-ways-to-add-files-to-lxc-containers/</guid><description>&lt;p>When working with LXC containers, you occasionally need to transfer files from the host. If you are just using a normal file system, rooted somewhere like /var/lib/lxc, you can just copy the files in:&lt;/p>
&lt;pre>&lt;code>sudo cp file.blah /var/lib/lxc/test01/rootfs/home/blah/blah/blah
&lt;/code>&lt;/pre>
&lt;p>This kind of misses the point for 2 reasons. First of all, it&amp;rsquo;s assuming some things that can be considered &amp;ldquo;internal&amp;rdquo; to LXC, namely that file systems are rooted under something called {your_container_name}/rootfs. Furthermore, this won&amp;rsquo;t work if you are using different backends, like btrfs or zfs.&lt;/p>
&lt;p>The other reason why this isn&amp;rsquo;t good is that the file will be based on permissions and uid/gids from the host. A better way is to transfer using &lt;a href="http://linux.die.net/man/1/lxc-attach">lxc-attach&lt;/a>. For example:&lt;/p>
&lt;pre>&lt;code>&amp;lt;something_on_my_machine.sh lxc-attach -n $1 -- /bin/sh -c &amp;quot;/bin/cat &amp;gt; /target/on/lxc/guest&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>In case you aren&amp;rsquo;t familiar with the &amp;lt;file syntax, this is equivalent to:&lt;/p>
&lt;pre>&lt;code>cat something_on_my_machine.sh | lxc-attach -n $1 -- /bin/sh -c &amp;quot;/bin/cat &amp;gt; /target/on/lxc/guest&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>Using a similar technique, you can pipe things into tar to transfer a bunch of files in bulk. Alternatively, you can transfer files from the container to the guest.&lt;/p>
&lt;p>The reason I&amp;rsquo;m being pedantic by using /bin/sh and /bin/cat is so that it will work more readily across a variety of OSes without having to worry about environment, having $PATH set, etc.&lt;/p></description></item><item><title>Access LXC containers by name from host</title><link>https://bryanalves.github.io/posts/lxc-dns-on-host/</link><pubDate>Fri, 03 Jul 2015 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/lxc-dns-on-host/</guid><description>&lt;p>In a &lt;a href="https://bryanalves.github.io/2015/07/02/enabling-lxc-archlinux-with-systemd-networkd/">previous installment&lt;/a> we configured systemd-networkd and lxc to play nicely together, along with docker. There was one problem with that setup, which is that the host could not find containers by name. This post addresses that.&lt;/p>
&lt;h3 id="lxc_domain" >LXC_DOMAIN
&lt;span>
&lt;a href="#lxc_domain">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>On Archlinux at least, LXC_DOMAIN is empty by default. It&amp;rsquo;s a good idea to set this to something to help segregate the LXC containers. I used .lxc, &lt;a href="https://support.comodo.com/index.php?/Knowledgebase/Article/View/722/16/acceptable-internal-domain-names">even though I probably shouldn&amp;rsquo;t&lt;/a>&lt;/p>
&lt;h3 id="systemd-networkd-to-the-rescue" >systemd-networkd to the rescue
&lt;span>
&lt;a href="#systemd-networkd-to-the-rescue">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>In the previous post, I had mentioned that switching to systemd-networkd was probably just yak shaving. It pays off now though, as it makes handling upstream DNS a lot simpler with dnsmasq. First off, make sure that /etc/resolv.conf is a normal file, and &lt;strong>not&lt;/strong> symlinked to /run/systemd/resolve/resolv.conf as most guides suggest.&lt;/p>
&lt;p>Next, update dnsmasq.conf and add the following line:&lt;/p>
&lt;pre>&lt;code>resolv-file=/run/systemd/resolve/resolv.conf
&lt;/code>&lt;/pre>
&lt;p>Finally, add where your dnsmasq server listens to /etc/resolv.conf:&lt;/p>
&lt;pre>&lt;code>nameserver 10.0.3.1
&lt;/code>&lt;/pre>
&lt;p>Now, not only do you have access to LXC containers by name, but you have a local caching nameserver in place that you can do various thing with. This dnsmasq server does double-duty, so if you get too fancy it might be wise to separate concerns and create 2 dnsmasq instances, 1 for local caching and one solely for DNS/DHCP for LXC.&lt;/p></description></item><item><title>Enabling LXC on Archlinux with systemd-networkd</title><link>https://bryanalves.github.io/posts/enabling-lxc-archlinux-with-systemd-networkd/</link><pubDate>Thu, 02 Jul 2015 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/enabling-lxc-archlinux-with-systemd-networkd/</guid><description>&lt;p>After playing around with docker a lot, I decided that it was time to spend some time with LXC as I tended to treat some of my docker containers like mini VMs anyway, especially when developing. I think a lot of the benefits of docker aren&amp;rsquo;t actually benefits, and I&amp;rsquo;ll be writing a follow-up post about that. To that end, I wanted to get LXC up and running.&lt;/p>
&lt;h3 id="whats-so-hard" >What&amp;rsquo;s so hard?
&lt;span>
&lt;a href="#whats-so-hard">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>I&amp;rsquo;m on a laptop with wireless, so I can&amp;rsquo;t just create a bridge and give IPs to containers from an upstream DHCP server. I needed to do NAT and essentially simulate/replicate how docker networking works. My goals were:&lt;/p>
&lt;ul>
&lt;li>DHCP or some other auto-assignment of IPs&lt;/li>
&lt;li>Containers can see each other by hostname&lt;/li>
&lt;li>Containers can see the host, and other nodes on the network&lt;/li>
&lt;li>Containers can see the internet&lt;/li>
&lt;li>Have all of this networking transparently work and persist across reboots&lt;/li>
&lt;/ul>
&lt;h3 id="general-approach" >General approach
&lt;span>
&lt;a href="#general-approach">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;ul>
&lt;li>Create a bridge interface&lt;/li>
&lt;li>Set up IP forwarding and masquerading&lt;/li>
&lt;li>Set up &lt;a href="http://www.thekelleys.org.uk/dnsmasq/doc.html">dnsmasq&lt;/a> as a DHCP server&lt;/li>
&lt;li>profit?&lt;/li>
&lt;/ul>
&lt;p>In practice, these things didn&amp;rsquo;t work out so well.&lt;/p>
&lt;h3 id="problem-1-netctl" >Problem 1: netctl
&lt;span>
&lt;a href="#problem-1-netctl">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>&lt;a href="https://wiki.archlinux.org/index.php/Netctl">Netctl&lt;/a> was the recommended choice for a while on Archlinux systems. Now that systemd is taking over, it seems like more and more support is coming over to &lt;a href="https://wiki.archlinux.org/index.php/Systemd-networkd">systemd-networkd&lt;/a>. I asked for help in chat and 3 people immediately were like &amp;ldquo;why are you still using netctl?&amp;ldquo;I ran into a bit of trouble creating a netctl profile to create a bridge on boot. While I could have made this work (and the end solution would have had me not touch netctl at all), I ended up yak shaving and switching to systemd-networkd. It was mostly painless with 1 hiccup:&lt;/p>
&lt;h3 id="problem-2-systemd-networkd-ip-forwarding-defaults" >Problem 2: systemd-networkd ip forwarding defaults
&lt;span>
&lt;a href="#problem-2-systemd-networkd-ip-forwarding-defaults">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>By default, systemd-networkd does not honor &lt;em>sys.net.ipv4.ip_forward&lt;/em>. It instead creates a per-interface setting that defaults to no. This means that you need to explicitly set IPForward and IPMasquerade on your bridges. This includes the docker0 interface, which silently broke upon switching to systemd-networkd. It&amp;rsquo;s at least related to &lt;a href="https://bugs.freedesktop.org/show_bug.cgi?id=89509">this bug report&lt;/a>.&lt;/p>
&lt;h3 id="back-to-sanity" >Back to sanity
&lt;span>
&lt;a href="#back-to-sanity">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>So we are now on systemd-networkd, which more easily allows us to define bridges and we have something roughly like this:&lt;/p>
&lt;p>docker0.network&lt;/p>
&lt;pre>&lt;code>[Match]
Name=docker0
[Network]
IPForward=yes
&lt;/code>&lt;/pre>
&lt;p>wired.network&lt;/p>
&lt;pre>&lt;code>[Match]
Name=eth0
[Network]
DHCP=ipv4
[DHCP]
RouteMetric=10
&lt;/code>&lt;/pre>
&lt;p>wireless.network&lt;/p>
&lt;pre>&lt;code>[Match]
Name=wlan0
[Network]
DHCP=ipv4
[DHCP]
RouteMetric=20
&lt;/code>&lt;/pre>
&lt;h3 id="now-what" >Now what
&lt;span>
&lt;a href="#now-what">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>We haven&amp;rsquo;t even started making LXC work yet, let&amp;rsquo;s do that now. The first approach is to create a bridge interface for just LXC, so let&amp;rsquo;s do that&lt;/p>
&lt;p>lxcbr0.netdev&lt;/p>
&lt;pre>&lt;code>[NetDev]
Name=lxcbr0
Kind=bridge
&lt;/code>&lt;/pre>
&lt;p>lxcbr0.network&lt;/p>
&lt;pre>&lt;code>[Match]
Name=lxcbr0
[Network]
Address=10.0.100.1
IPForward=yes
IPMasquerade=yes
&lt;/code>&lt;/pre>
&lt;p>To use this, add something like the following to a config for your lxc container:&lt;/p>
&lt;pre>&lt;code>lxc.network.type = veth
lxc.network.flags = up
lxc.network.link = lxcbr0
&lt;/code>&lt;/pre>
&lt;p>This will work, but requires you to specify an IP for the container statically. Let&amp;rsquo;s add dnsmasq:&lt;/p>
&lt;pre>&lt;code>dhcp-range=10.0.100.100,10.0.100.200,12h
interface=lxcbr0
&lt;/code>&lt;/pre>
&lt;p>After this, you&amp;rsquo;ll notice that it still doesn&amp;rsquo;t work. You need an iptables rule to handle some checksum mistakes&lt;/p>
&lt;pre>&lt;code>iptables -t mangle -A POSTROUTING -o lxcbr0 -p udp -m udp --dport 68 -j CHECKSUM --checksum-fill
&lt;/code>&lt;/pre>
&lt;p>So far we&amp;rsquo;ve mostly got this handled by configuration files, but this checksum mangling is a manual step with no great place to automatically handle it. After a bit of looking around, Archlinux ships with a lxc-net systemd unit, which seems to do what I need. It&amp;rsquo;s a bit tricky to setup, and needs some interaction with systemd-networkd:&lt;/p>
&lt;ul>
&lt;li>The bridge can&amp;rsquo;t already exist, so we need to get rid of the lxcbr0.netdev file&lt;/li>
&lt;li>The bridge still needs systemd-networkd style masquerading, so we keep the lxcbr0.network file (remove the address line)&lt;/li>
&lt;/ul>
&lt;p>You also need to tell lxc-net that you want to use the bridge, so in /etc/default/lxc, change USE_LXC_BRIDGE to true. As a bonus, lxc-net handles dnsmasq for you, so you can get rid of that unit.&lt;/p>
&lt;h3 id="final-results" >Final results
&lt;span>
&lt;a href="#final-results">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>The units you should have enabled are:&lt;/p>
&lt;ul>
&lt;li>wpa_supplicant@wlan0&lt;/li>
&lt;li>systemd-networkd&lt;/li>
&lt;li>systemd-resolved&lt;/li>
&lt;li>lxc-net&lt;/li>
&lt;/ul>
&lt;p>/etc/systemd/network/docker0.network&lt;/p>
&lt;pre>&lt;code>[Match]
Name=docker0
[Network]
IPForward=yes
&lt;/code>&lt;/pre>
&lt;p>/etc/systemd/network/lxcbr0.network&lt;/p>
&lt;pre>&lt;code>[Match]
Name=lxcbr0
[Network]
IPForward=yes
IPMasquerade=yes
&lt;/code>&lt;/pre>
&lt;p>/etc/default/lxc&lt;/p>
&lt;pre>&lt;code>LXC_AUTO=&amp;quot;true&amp;quot;
BOOTGROUPS=&amp;quot;onboot,&amp;quot;
SHUTDOWNDELAY=5
OPTIONS=
STOPOPTS=&amp;quot;-a -A -s&amp;quot;
USE_LXC_BRIDGE=&amp;quot;true&amp;quot;
[ ! -f /etc/default/lxc-net ] || . /etc/default/lxc-net
&lt;/code>&lt;/pre>
&lt;p>On the next reboot, you should have:&lt;/p>
&lt;ul>
&lt;li>A working docker0 interface (if you are keeping docker around)&lt;/li>
&lt;li>An lxcbr0 interface with an IP associated with it&lt;/li>
&lt;li>Starting LXC containers should grab a natted IP automatically via DHCP&lt;/li>
&lt;/ul>
&lt;p>As a bonus, LXC containers can address each other by hostname, and docker containers and lxc containers can see each other by IP. Some more dnsmasq magic could maybe clear some of that up even further.&lt;/p>
&lt;p>The end resulting files make it seem like this is an easy problem, but the details of wireless not supporting actual bridging, netctl being flaky, systemd having unexpected ip_forwarding defaults, DHCP missing checksums, and lxc-net being a bit picky about how it gets started actually caused this exploration to take a few hours.&lt;/p></description></item><item><title>Upgrading to MiniTest</title><link>https://bryanalves.github.io/posts/upgrading-to-minitest/</link><pubDate>Wed, 12 Jun 2013 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/upgrading-to-minitest/</guid><description>&lt;p>There are a lot of testing frameworks out there for Rails. A lot of work has been done in the community over the past few years, and it&amp;rsquo;s important to stay up to date with the latest in testing. Minitest is something that&amp;rsquo;s fairly old and stable at this point, but it provides a nice, clean, standardized testing interface with enough extensions to support other testing methodologies as well.&lt;/p>
&lt;h3 id="what-about-rspec" >What about RSpec?
&lt;span>
&lt;a href="#what-about-rspec">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>RSpec is great, and it&amp;rsquo;s full featured and awesome. If you are using RSpec, feel free to continue. Lots of things have support for it, and there&amp;rsquo;s a great environment around RSpec.&lt;/p>
&lt;h3 id="minitestunit-or-minitestspec" >MiniTest::Unit or MiniTest::Spec
&lt;span>
&lt;a href="#minitestunit-or-minitestspec">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Minitest&amp;rsquo;s biggest strength is it&amp;rsquo;s ability to straddle the xUnit/spec line, seamlessly transitioning between the two. In my opinion, spec-style tests are better and the way to go. They more cleanly and succinctly express intention of the test. However, they aren&amp;rsquo;t always appropriate, and falling back to standard xUnit assertions is very helpful.&lt;/p>
&lt;p>Additionally, MiniTest::Spec gets surprisingly close to the ability of RSpec, especially with some of the extra expectation gems.&lt;/p>
&lt;h3 id="extension-versus-replacement" >Extension versus replacement
&lt;span>
&lt;a href="#extension-versus-replacement">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Things like shoulda attempted to make testing better by providing alternatives. With the exception of RSpec, these alternatives have simply diluted the choice of testing frameworks. MiniTest is different in that it&amp;rsquo;s modular and plugin-based, so everything stays coherent, even with significant additions. There&amp;rsquo;s a large list of extensions available on &lt;a href="https://github.com/seattlerb/minitest">Github&lt;/a>.&lt;/p>
&lt;h3 id="the-way-forward" >The way forward
&lt;span>
&lt;a href="#the-way-forward">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>If you like spec-style tests, then gradually start going file-by-file through your test suite and do the conversion. Once you are done, you get the satisfaction of using a single testing tool, more readable tests, and probably faster test execution.&lt;/p></description></item><item><title>Languages to pay attention to</title><link>https://bryanalves.github.io/posts/languages-to-pay-attention-to/</link><pubDate>Sat, 20 Apr 2013 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/languages-to-pay-attention-to/</guid><description>&lt;p>So now that we&amp;rsquo;ve established why languages and platforms are powerful, let&amp;rsquo;s take a look at some languages that you should pay attention to:&lt;/p>
&lt;h3 id="c" >C
&lt;span>
&lt;a href="#c">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>C trades everything else for speed. Most languages have bindings to C, so if you need to drop down to C in order to get fast things done, you can. It&amp;rsquo;s development environment is good enough, and it&amp;rsquo;s just what you use if you want to take something and make it faster.&lt;/p>
&lt;p>If you need to write fast code, or convert existing code to fast code, you are likely going to end up working in C, at least a little bit.&lt;/p>
&lt;h3 id="java" >Java
&lt;span>
&lt;a href="#java">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Java is ubiquitous. There&amp;rsquo;s a huge community around it, and a lot of work has gone into it &amp;ndash; and the JVM &amp;ndash; to make it a fast and reliable platform. With this huge community comes a lot of junk to sift through, and swaths of under-performing engineers and companies, but there are a lot of gems to learn from this community.&lt;/p>
&lt;h3 id="ruby" >Ruby
&lt;span>
&lt;a href="#ruby">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Speaking of gems, Ruby has taken rails and run with it, turning it into a successful platform that gets a lot of things right. Gems and bundler have made it easy for the community to grow and distribute shared code.&lt;/p>
&lt;h3 id="python" >Python
&lt;span>
&lt;a href="#python">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Like Ruby, Python has become a mainstream general purpose language. SciPy, NumPy, and Django have led the way in the growth of the community. Pypy is becoming a leader in code execution and JIT, concepts that will hopefully become more universally usable in the months and years to come.&lt;/p>
&lt;h3 id="javascript" >Javascript
&lt;span>
&lt;a href="#javascript">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>This introduction of JIT and other advanced optimization techniques in V8 has made Javascript become a prevalent language not only in the client-side, but also in the server-side. Node has helped develop a whole new class of full-stack engineers; engineers that only need 1 primary language to do &lt;em>everything&lt;/em>. While the merits of actually doing this are arguable, there is a lot of good work coming out of this camp, including pushes for event-based programming, especially concurrency concepts. A lot of these have been known about in acadamia for a while, but now there are some practical implementations of them.&lt;/p>
&lt;h3 id="scala" >Scala
&lt;span>
&lt;a href="#scala">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Where Java fails, Scala hopes to succeed. Java has helped the development of the JVM, which other people are now trying to build upon to build a better Java. Scala adds a robust typesystem and a whole host of other language features to Java that are poised to allow developers to write better code. Scala is another example of taking concepts from acadamia and putting them in a package that regular developers can use.&lt;/p>
&lt;h3 id="clojure" >Clojure
&lt;span>
&lt;a href="#clojure">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Lisp on the JVM. Lisp&amp;rsquo;s community is small, and sometimes it&amp;rsquo;s performance is suboptimal. By tapping into the JVM, Clojure hopes to get both the peformance and community behind it, turning Lisp into a mainstream powerhouse. Rich Hickey is a brilliant man, and even if Clojure doesn&amp;rsquo;t succeed, he should be listened to, as he has very pragmatic, very well thought out ideas about how development should be.&lt;/p>
&lt;h3 id="go" >Go
&lt;span>
&lt;a href="#go">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Google&amp;rsquo;s systems programming language, Go allows development of systems that would traditionally be written in C (web servers, messaging systems, etc), without the hassle of memory management. Furthermore, it provides a lot of essential tools, namely channels, that allow massively concurrent systems to be built easily and with less bugs. Erlang had this market a long time ago, but now Go has both a more traditional code syntax, as opposed to Erlang&amp;rsquo;s prolog-inspired syntax, and the support of a major company, Google. Go is also more concerned with performance than Erlang ever was.&lt;/p>
&lt;h3 id="closing-thoughts" >Closing thoughts
&lt;span>
&lt;a href="#closing-thoughts">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>This list is certainly biased, and are things that I care about. The goal of this list is to expose yourself to a variety of languages that will help you incorporate concepts into your daily work, whatever the language. This list is also very unix-centric; there is no C# for example. The goal of this list is to encourage you to learn some new concepts and hopefully make yourself a better programmer. Exposing yourself to new skills and new methods from other communities is the best way to make yourself better. Most importantly, know the right tool for the job, and understand what makes something the right tool for a given job.&lt;/p></description></item><item><title>What makes a good programming language</title><link>https://bryanalves.github.io/posts/what-makes-a-good-programming-language/</link><pubDate>Sat, 06 Apr 2013 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/posts/what-makes-a-good-programming-language/</guid><description>&lt;p>There are a lot of programming languages available, and a lot of reasons to pick one over the other.&lt;/p>
&lt;h2 id="its-all-about-power-right" >It&amp;rsquo;s all about power, right?
&lt;span>
&lt;a href="#its-all-about-power-right">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>One thing that people discover as they work with languages is that some languages are more powerful than others. What does this mean exactly? Aren&amp;rsquo;t most languages Turing complete? At some level, it&amp;rsquo;s a matter of expressivity. Some languages are better at expressing concepts succinctly than others. Lisp is a good example of this. It&amp;rsquo;s extreme ability to metaprogram makes it the most expressive language available.&lt;/p>
&lt;p>Why then isn&amp;rsquo;t it regularly used everywhere? If power and expressivity were all that mattered, then Lisp would dominate everything.&lt;/p>
&lt;h2 id="library-and-3rd-party-support" >Library and 3rd party support
&lt;span>
&lt;a href="#library-and-3rd-party-support">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Another critical component of a language is it&amp;rsquo;s library support. Sure, Lisp might allow someone to write a web server in only a few dozen lines of code, but this reinvention of the wheel misses the point. Ruby developers will just add some gems, Python developers will hit up PyPi, Perl developers will go to CPAN, etc. Lisp has a set of libraries available, but it&amp;rsquo;s not nearly as robust as what&amp;rsquo;s provided by other, more popular languages.&lt;/p>
&lt;p>This is one of the reasons why Node has taken off; it embraced library support immediately, and npm has provided a rich environment for developers to work with.&lt;/p>
&lt;h2 id="development-environment" >Development environment
&lt;span>
&lt;a href="#development-environment">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Another important aspect is strength of development environment. This is an area where Lisp shines; it&amp;rsquo;s ability to be metaprogrammed makes things like Emacs work wonderfully with it. Here also is why Java and .NET are prevalent; Eclipse, NetBeans, and Visual Studio make up for other lackluster components of the languages.&lt;/p>
&lt;h2 id="consistent-implementation" >Consistent implementation
&lt;span>
&lt;a href="#consistent-implementation">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Lisp doesn&amp;rsquo;t really have a de facto implementation. Common Lisp is a standard, but implementation of the standard isn&amp;rsquo;t very widespread. This makes an already small community become somewhat fractured around implementatons. Python and Ruby don&amp;rsquo;t have this problem because they do have a de facto implementation, and that de facto implementation (CPython, and MRI) occupies a huge majority of the market. PyPy, JRuby, etc. are useful and great, but they don&amp;rsquo;t drive progress of the language. They also still identify at Python or Ruby programmers.&lt;/p>
&lt;p>On the contrary, SBCL and Clojure don&amp;rsquo;t have this property.&lt;/p>
&lt;h2 id="community" >Community
&lt;span>
&lt;a href="#community">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>This is a bit of a chicken and egg problem. Some languages are better than others because their communities are larger. Have a problem? You&amp;rsquo;ll be much more likely to get a response from a community of hundreds of thousands of developers than a community with orders of magnitude less than that.&lt;/p>
&lt;h2 id="what-about-other-languages" >What about other languages?
&lt;span>
&lt;a href="#what-about-other-languages">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>So far I&amp;rsquo;ve primarily talked about Lisp, Ruby, and Python. Lisp is a powerful language, but it misses out on library support, and a consistent implementation. Ruby and Python are nearly as powerful, have tremendous libraries, reasonable development tools, and consistent implementations. What about other languages? Well, that&amp;rsquo;s an analysis for another time.&lt;/p>
&lt;h2 id="what-does-this-mean" >What does this mean?
&lt;span>
&lt;a href="#what-does-this-mean">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>There&amp;rsquo;s more to a language than just it&amp;rsquo;s syntax, how easy it is to install, or what features it has. Everything mentioned here matters. As a perfect counter-example, consider Javascript. From a language strength point of view, it&amp;rsquo;s not very great. It&amp;rsquo;s syntax is bad enough that CoffeeScript was written as a preprocessor for the language. However, it&amp;rsquo;s still a wildly popular language, and that is because of a large community, among other things.&lt;/p>
&lt;h2 id="how-do-i-make-my-language-popular" >How do I make my language popular?
&lt;span>
&lt;a href="#how-do-i-make-my-language-popular">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>As a language developer, you must:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Make it easy for reusable libraries to be built, distributed, and publicized. Gems, Pypi, CPAN, NPM, etc. should all be motivations. If your language doesn&amp;rsquo;t have something that compares, you likely won&amp;rsquo;t be successful.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Make development easy. Ensure that text editor support is good. Users of Vim or Emacs should want to use your language. If appropriate, work well with Eclipse or NetBeans. If you are huge like Microsoft, build your own world class IDE. Ensure that debugging support is good. If developers have to rely solely on print statements, you are in trouble.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Take control of your implementation. Do more than just release a spec for your language; release an implementation, and make sure it&amp;rsquo;s good.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Build the community, and market your language. Javascript might be bad, but node marketed itself, and now it&amp;rsquo;s huge. Make sure you are active in programming circles, attracting people. Have a presence on IRC. Have mailing lists. You want people more than using your language, you want them creating a community around it. Your goal should be to have a conference named after your language that people aspire to go to.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>About Me</title><link>https://bryanalves.github.io/about/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://bryanalves.github.io/about/</guid><description>&lt;p>My name is Bryan Alves, and I&amp;rsquo;m a software engineer in the Boston area. I mostly work on web applications using a variety of technologies. Here are some links for more information about me:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.facebook.com/bryanalves">Facebook&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.github.com/bryanalves">Github&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.twitter.com/bryanalves">Twitter&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.linkedin.com/in/bryanalves">LinkedIn&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.dropbox.com/s/dcrkchfg50esc29/resume.pdf?raw=1">Resume&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.dropbox.com/s/xuxtrtax3nk807u/A9806FD1E6309118.gpg?dl=1">GPG&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>